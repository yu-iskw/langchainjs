
> test-custom-labels@1.0.0 test:vertex
> node tests/test-vertex-ai-labels.js --debug

ğŸš€ Testing Vertex AI Custom Metadata Labels

ğŸ” [DEBUG] Running in debug mode - will show detailed logging

ğŸ“‹ Test 1: Labels on model initialization
ğŸ” [DEBUG] Test 1 - Creating model with labels: {
  team: 'research',
  component: 'frontend',
  environment: 'production',
  test_type: 'model_init'
}
ğŸ” [DEBUG] Model created. Checking properties:
ğŸ” [DEBUG] - Model labels property: undefined
ğŸ” [DEBUG] - Model platform: gcp
ğŸ” [DEBUG] - Model model: gemini-2.5-flash
ğŸ” [DEBUG] - Model constructor name: ChatVertexAI
ğŸ” [DEBUG] Test 1 - About to invoke with labels: {
  team: 'research',
  component: 'frontend',
  environment: 'production',
  test_type: 'model_init'
}
âœ… Response: Labels working on Vertex AI
âœ… Labels were included in the request

ğŸ“‹ Test 2: Labels via invoke options
ğŸ” [DEBUG] Test 2 - About to invoke with labels via options: {
  session: 'test-session-123',
  user: 'test-user',
  request_type: 'invoke_options',
  priority: 'high'
}
âœ… Response: Labels via invoke options working
âœ… Labels were included via invoke options

ğŸ“‹ Test 3: Labels override behavior
âœ… Response: Labels override working
âœ… Invoke options labels override model labels

ğŸ“‹ Test 4: No labels (edge case)
âœ… Response: No labels test working
âœ… Request completed without labels

ğŸ“‹ Test 5: Empty labels object (edge case)
âœ… Response: Empty labels test working
âœ… Request completed with empty labels object

ğŸ“‹ Test 6: Complex labels with special characters
âœ… Response: Complex labels test working
âœ… Complex labels with special characters working

ğŸ‰ All Vertex AI label tests completed successfully!
ğŸ“Š Summary:
   - Labels on model initialization: âœ…
   - Labels via invoke options: âœ…
   - Labels override behavior: âœ…
   - No labels edge case: âœ…
   - Empty labels edge case: âœ…
   - Complex labels: âœ…
